-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Mar 19, 2024 at 10:56 AM
-- Server version: 10.4.27-MariaDB
-- PHP Version: 8.2.0

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `app-sence`
--

-- --------------------------------------------------------

--
-- Table structure for table `absences`
--

CREATE TABLE `absences` (
  `id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `date` date NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `detail_absence`
--

CREATE TABLE `detail_absence` (
  `id` int(11) NOT NULL,
  `nik_employee` varchar(16) NOT NULL,
  `clock_in` time NOT NULL,
  `clock_out` time NOT NULL,
  `entry_location` varchar(150) NOT NULL,
  `exit_location` varchar(150) NOT NULL,
  `absence_date` date NOT NULL,
  `id_point_requirements` int(11) NOT NULL,
  `id_absences` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `employee`
--

CREATE TABLE `employee` (
  `nik` varchar(16) NOT NULL,
  `employee_code` varchar(10) DEFAULT NULL,
  `name` varchar(100) NOT NULL,
  `id_schedule` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `employee`
--

INSERT INTO `employee` (`nik`, `employee_code`, `name`, `id_schedule`) VALUES
('1671010711860006', '221195', 'KGS MUHAMMAD SYAHABUDIN', 2),
('3172021103710019', '180991', 'MUCHTAR HARTONO', 2),
('3175082307910003', '220674', 'MOCH SAIFUL CHOYUDI', 1),
('3205232903970001', '191129', 'EKI SUBAGJA', 2),
('3205241108970002', '220673', 'ANDRE TRI UTOMO', 2),
('3209111008980003', '200751', 'RIYAN HIDAYAT', 2),
('3214050109950001', '231141', 'ADI SOPIYAN', 2),
('3215040406980001', '240148', 'YOSEP SAEPUDIN', 2),
('3216061708760059', '220127', 'HAMID RUSDI', 2),
('3216061811950011', '210492', 'NOVAL FIKRI', 2),
('3275040105850022', '190625', 'HARIRI HARDIANSYAH', 2),
('3275042807790012', '190316', 'AGUS SUCIPTO SANUSI', 2),
('3275071501750029', '220462', 'PRIYONO', 2),
('3309167107010002', '220357', 'AMARA HAZPURI', 2),
('3314060604930003', '220466', 'SUYATNO', 2),
('3314070511000001', '240258', 'MARZUQ ABDUR RASYID', 1),
('3314202505850002', '220130', 'YOHANES CAHYO KUSUMO', 2),
('3315112702890002', '221190', 'PURNOMO', 1),
('3316092305940005', '221101', 'TRINANDA FIRDAUSYAH', 1),
('3322062606960003', '230517', 'PAKSI VALENDIKA', 2),
('3329122003950006', '190522', 'JAFAR SIDIQ', 2),
('3402162911930003', '220245', 'ZAENAL ARIFIN', 1),
('3503110705850003', '230621', 'TOMY IRAWAN SARI', 1),
('3504011207890002', '231142', 'R.B, RENDY PUTRRA PRADWITA', 1),
('3506100804990005', '230829', 'DWITYO YATNO SAPUTRO', 1),
('3506141205000002', '240149.0', 'GALIH PRAKA DIWI', 1),
('3506242301730003', '220777', 'AHMAD SUTARJI', 1),
('3507182701900003', '240261.0', 'M IKHWAN ADI PUTRO', 1),
('3508011106910002', '220778', 'MUHAMMAD ARIS ANSORI', 1),
('3510160308910003', '220137', 'ACHMAD HARIS', 2),
('3514130810790002', '171068', 'ADI NUR HIDAYAT', 1),
('3514132912910003', '220254', 'ANGGA ESTU PRINANTON', 1),
('3515010109000001', '240256.0', 'RAHMADI SETYO PRIYONO', 1),
('3515010506760002', '240260.0', 'GUNARDI', 2),
('3515010508970003', '220242', 'IQBAL NANDA PRASETYO', 1),
('3515010602680003', '161048', 'SUBIANTO', 1),
('3515010608800007', '210909', 'ZAINUL ARIFIN', 1),
('3515012312940002', '230933.0', 'DAVID ERIAN JAYA', 1),
('3515012707690002', '190216', 'NOYO', 1),
('3515013003710001', '201168', 'ARIES SETYOBUDI', 2),
('3515015408950003', '181197', 'LINDA AGUSTINA', 2),
('3515021708960005', '221102', 'DIMAS PANGESTU', 1),
('3515024107030003', '220244', 'FREZA ARTHAMEVIA AZIZIAH', 2),
('3515061008920002', '220465', 'PERMADI ALI HAMURABBI', 1),
('3515071904670005', '220125', 'RUBIYANTO', 2),
('3515072403830001', '210173', 'IVANDI', 2),
('3515072606940003', '240153.0', 'LAYNARDHO ABULKHAIR ALIY', 1),
('3515090706670002', '180988', 'MOCHAMAD KUSAENI', 1),
('3515101312810007', '231034.0', 'EDWIN SURYA ATMAJA', 2),
('3515102606900002', '230724.0', 'RAGIL DWI ANUGRAH', 1),
('3515103006770001', '210281', 'HENDRA DERMAWAN, SH.', 2),
('3515110203920001', '220360', 'MUHAMAD NIZAR FADLI', 1),
('3515110404670005', '180477', 'MOHAMMAD ALI', 1),
('3515110412830002', '220128', 'ACHMAD SURYANTO', 1),
('3515110503010003', '220131', 'MOCH RICKY SULTON MA\'ARIF', 2),
('3515110702690002', '220251', 'KARNOTO', 1),
('3515111006710002', '151033', 'ALIYAS', 1),
('3515112108840006', '111106', 'UMAR FARIS', 1),
('3515112205940001', '240150.0', 'M AGENG FIRMANSYAH', 2),
('3515112411860004', '200747', 'NUR HAMZAH', 2),
('3515112411950003', '210177', 'VIAN ADIAWAN', 2),
('3515112903680001', '210386', 'IMAM SAFI\'I', 1),
('3515114107840002', '161252', 'FITRI WULANDARI', 2),
('3515114511950002', '191127', 'NOVA RATIH INTAN LESTARI', 2),
('3515114601980004', '240151.0', 'ZEINUR ROCHMA FANDIS ROMADHON', 2),
('3515116808850002', '00002', 'ERNI SUSANTY', 2),
('3515116906960004', '200543', 'RISKA HIDAYATI', 2),
('3515120101730002', '170256', 'AJIR', 1),
('3515120105740002', '160340', 'MUIDIN', 1),
('3515120210760003', '211224', 'ERY RUDIANTO', 2),
('3515120303770003', '170155', 'M ALI FATAH', 1),
('3515120402960001', '231145.0', 'ARVIN MAKSUM', 2),
('3515120505810004', '181101', 'HERU SUSANTO', 1),
('3515120511940002', '230619.0', 'CAHYO PRISTIYANTO HADI', 1),
('3515120608680003', '170761', 'MOHAMAD KUSEN', 1),
('3515120708680003', '220884', 'SUJIWAT', 1),
('3515120812980002', '231040.0', 'GHAZNA RAHMATULLOH AZIZ', 1),
('3515120905980002', '210384', 'MUH FARIED FAHRUL HUDA', 2),
('3515121003680002', '200957', 'SUPANGAT', 1),
('3515121010630007', '160341', 'SUYANTO', 2),
('3515121105860005', '170558', 'SUHARSONO', 1),
('3515121207680006', '180987', 'SUWARI', 2),
('3515121211710003', '210175', 'MUJIKO', 2),
('3515121304860001', '00003', 'DWI HARYANTO', 1),
('3515121407920002', '220132', 'DWIKI WIBISONO', 2),
('3515121609770003', '140334', 'ROSTOMO', 1),
('3515121701760003', '190521', 'SUKAMTO', 1),
('3515121704650002', '100402', 'KHOTIB', 2),
('3515121903810004', '210280', 'YUDO PRASETYO ARY WIBOWO', 2),
('3515122212850006', '161047', 'MOCHAMAD DEDY SUPRIYANTO', 1),
('3515122304740002', '100404', 'SEGER', 1),
('3515122307980002', '230828.0', 'ISMA\'IL FAKHIRULLAH SAHAL', 2),
('3515122408940002', '230827.0', 'HAFIZ DZUL RIZKI', 2),
('3515122501960004', '210387', 'ARI RAMADHAN PUTRA', 1),
('3515122504920003', '181102', 'YUDI SUPRIANTO', 1),
('3515122911770001', '130518', 'IMAM SULIYADI', 1),
('3515122912680002', '120110', 'SLAMET SOEPRIADI', 1),
('3515123004990005', '221191', 'MUHAMMAD ALFIANSYAH', 1),
('3515123011870001', '130417', 'BACHRUL ULUM', 1),
('3515124705890002', '111207', 'FITRIA NURWIJAYANTI', 2),
('3515124902970001', '231247.0', 'NUR FITRIYA', 2),
('3515125109940001', '230312', 'SEPTI DIAN FAJARWATI', 2),
('3515125210770001', '120109', 'LILIK HIDAYANTHI', 2),
('3515125912990002', '190524', 'NUR FITRIA ROHMAWATI', 2),
('3515126005970003', '200959', 'DEFBI NURLELA HADI', 2),
('3515126907980001', '210279', 'ATAITA ANIDA', 2),
('3515127105800001', '100505', 'ERSI NUR HIJRI', 2),
('3515130406960001', '201166', 'AJI RIZKI SAPUTRA', 2),
('3515132209880003', '210701', 'AGUNG BUDI HARTO', 2),
('3515135904830006', '080801', 'NANIK HESTI HANJARWANI', 1),
('3515136205920002', '220252', 'DARNIA RAHMAWATI', 2),
('3515171003960002', '220136', 'RENDY HARRIS PRASETYO PRATAMA', 1),
('3515182112890005', '201271', 'HERU PRAYOGA', 1),
('3516052603910001', '220241', 'FERRY FERDIAN RAMADHAN ABADI', 1),
('3516061001630001', '170965', 'SUTRISNO', 1),
('3516080708960004', '231037.0', 'ANDI SETYAWAN EFFENDY', 1),
('3516111612890003', '211012', 'DEVIS FERY', 1),
('3516140210860004', '201061', 'MOCH ONY OCTAFIYUDA', 1),
('3516160801790005', '141024', 'TONY JANUARIANTO', 2),
('3516161003780004', '160742', 'MASKUR', 1),
('3516161207940002', '220248', 'DIAN ARI PURWANTO', 1),
('3516162010680003', '170153', 'KENTOT WIDARYANTO', 2),
('3517062908980001', '240257.0', 'M. SOFI ALUMAM', 1),
('3517080112950001', '220570', 'ANAS NUR WAHYUDI', 2),
('3517090702820006', '221104', 'ELLIYUS TONIE FIRMANTO', 2),
('3517094306000005', '201165', 'DELLA HARI THEA THIFANA', 2),
('3518055006920001', '130620', 'RIA DAROJATUL HUSNA', 1),
('3518101308820003', '220671', 'MARJIANTO', 1),
('3518110511860001', '221192', 'ANDHIKA NUGROHO', 1),
('3518111706920005', '230516', 'ACHMAD FAISAL ARIF', 2),
('3518115607810011', '171067', 'VITRIA SHANDRANINGTYAS', 2),
('3518160205970003', '221196', 'FAJAR KURNIA HADI SAPUTRA', 1),
('3519094704870001', '231039.0', 'LUCY NUHARISKA', 2),
('3520121404920003', '210493', 'KISMA ALFALA PUTRA', 2),
('3523113008920002', '220986', 'LISTONI KHOIRUL AMIN', 2),
('3523152706900002', '231144.0', 'BOGI JUNIANTO', 2),
('3523153005900002', '220885', 'TONIS HARI PRASETYO', 2),
('3524132205910002', '221207', 'SUHELMI PRASETYO', 1),
('3524140907890001', '210176', 'MOH NURUL ALIM', 1),
('3524220709920002', '200645', 'M SOFIANDI', 1),
('3524225602910003', '220249', 'NURUL HIDAYAH', 2),
('3524251504830001', '130213', 'JEFFRI SETIAWAN', 1),
('3524252412950002', '190417', 'AHMAD HAVY MAHFUDZ', 2),
('3524256807980001', '201167', 'ANGGUN VIDEAN FATNITA', 2),
('3525065207910001', '200341', 'EKKA RATNASARI', 1),
('3525090210720002', '130521', 'SARNO', 1),
('3528092503900004', '240254.0', 'MOH NUR AFFANDY', 1),
('3573012804900004', '170966', 'AVIAN DIAN SULISTIAWAN', 1),
('3573034204920004', '190109', 'LINA SYAVINA', 2),
('3576015702860001', '130619', 'VEBRIANITA MIFTACHUR RAHMA', 2),
('3576016705880001', '130315', 'HUSNUL KHOTIMAH', 2),
('3576016911950001', '220250', 'DYAH AYU NOVATININGRUM', 2),
('3576022803740003', '240259.0', 'KUSHARIANTO', 1),
('3576022811720001', '220569', 'IMAM SAFII', 1),
('3576024205750002', '211015', 'DEBORA IDA ROHANI SIMANJUNTAK', 2),
('3576026101990003', '221193', 'DEWI PUSPA DARMAWAN', 2),
('3578010312660001', '171273', 'KUPALDIANTO HARI WIBOWO', 2),
('3578011303810002', '220126', 'ACHMAD MURTAZA', 1),
('3578016802760001', '151251', 'LILIK SUMARNI', 1),
('3578080605970005', '231038.0', 'ILHAM WICAKSONO', 2),
('3578100104940006', '221208', 'SYARIF HIDAYATULLAH', 2),
('3578141409830003', '200136', 'TONY SUGIHARTO', 2),
('3578222712990001', '230830.0', 'AKBAR KARALL RAHMADHANI', 1),
('3578223105790001', '130316', 'MOCH. WAHID YUNIADI', 1),
('3578230803900002', '220568', 'GITA DWI ARIYANTO', 2),
('3578236703840003', '211121', 'PUTRI WAHYUNI UMBARWATI', 1),
('3578272811000002', '220461', 'RAFLY ADITYA RAMADHAN', 1),
('5202010610960003', '230931.0', 'MUHAMMAD AKMAL SETIAHADI', 2),
('5313057011980003', '221199', 'MEPICAWASI JHONY', 2),
('7171051711880001', '230725.0', 'JEANNER CHRISTIAN TAKAHINDANGEN', 2),
('7371020611960002', '221087', 'MUKHLIS', 2);

-- --------------------------------------------------------

--
-- Table structure for table `permits`
--

CREATE TABLE `permits` (
  `id` int(11) NOT NULL,
  `type` enum('cuti','sakit','ijin','alfa') NOT NULL,
  `date` date NOT NULL,
  `description` varchar(255) NOT NULL,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `point_employee`
--

CREATE TABLE `point_employee` (
  `id` int(11) NOT NULL,
  `total_point` int(11) NOT NULL,
  `date` date NOT NULL,
  `nik_employee` varchar(16) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `point_requirements`
--

CREATE TABLE `point_requirements` (
  `id` int(11) NOT NULL,
  `start` time DEFAULT NULL,
  `end` time DEFAULT NULL,
  `type` enum('clock_in','clock_out') NOT NULL,
  `point` int(11) NOT NULL DEFAULT 0,
  `id_schedule` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `point_requirements`
--

INSERT INTO `point_requirements` (`id`, `start`, `end`, `type`, `point`, `id_schedule`) VALUES
(1, '06:00:00', '06:15:00', 'clock_in', 4, 1),
(6, '06:16:00', '06:46:00', 'clock_in', 3, 1),
(7, '06:46:00', '06:50:00', 'clock_in', 2, 1),
(8, '06:51:00', '07:00:00', 'clock_in', 0, 1),
(9, NULL, '15:00:00', 'clock_out', 0, 1),
(10, '15:01:00', '15:15:00', 'clock_out', 1, 1),
(11, '15:16:00', '15:30:00', 'clock_out', 2, 1),
(12, '15:31:00', '15:45:00', 'clock_out', 3, 1),
(13, '15:46:00', NULL, 'clock_out', 4, 1);

-- --------------------------------------------------------

--
-- Table structure for table `schedules`
--

CREATE TABLE `schedules` (
  `id` int(11) NOT NULL,
  `start` time NOT NULL,
  `end` time NOT NULL,
  `description` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `schedules`
--

INSERT INTO `schedules` (`id`, `start`, `end`, `description`) VALUES
(1, '07:00:00', '15:00:00', 'shift 1'),
(2, '08:00:00', '16:00:00', 'shift 2\r\n');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `absences`
--
ALTER TABLE `absences`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `detail_absence`
--
ALTER TABLE `detail_absence`
  ADD PRIMARY KEY (`id`),
  ADD KEY `nik_employee` (`nik_employee`),
  ADD KEY `id_absences` (`id_absences`),
  ADD KEY `id_point_requirements` (`id_point_requirements`);

--
-- Indexes for table `employee`
--
ALTER TABLE `employee`
  ADD PRIMARY KEY (`nik`),
  ADD KEY `id_jadwal` (`id_schedule`);

--
-- Indexes for table `permits`
--
ALTER TABLE `permits`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `point_employee`
--
ALTER TABLE `point_employee`
  ADD PRIMARY KEY (`id`),
  ADD KEY `nik` (`nik_employee`);

--
-- Indexes for table `point_requirements`
--
ALTER TABLE `point_requirements`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_schedule` (`id_schedule`);

--
-- Indexes for table `schedules`
--
ALTER TABLE `schedules`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `absences`
--
ALTER TABLE `absences`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT for table `detail_absence`
--
ALTER TABLE `detail_absence`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `permits`
--
ALTER TABLE `permits`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT for table `point_employee`
--
ALTER TABLE `point_employee`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `point_requirements`
--
ALTER TABLE `point_requirements`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT for table `schedules`
--
ALTER TABLE `schedules`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `detail_absence`
--
ALTER TABLE `detail_absence`
  ADD CONSTRAINT `detail_absence_ibfk_2` FOREIGN KEY (`nik_employee`) REFERENCES `employee` (`nik`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `detail_absence_ibfk_3` FOREIGN KEY (`id_absences`) REFERENCES `absences` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `detail_absence_ibfk_4` FOREIGN KEY (`id_point_requirements`) REFERENCES `point_requirements` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `employee`
--
ALTER TABLE `employee`
  ADD CONSTRAINT `employee_ibfk_1` FOREIGN KEY (`id_schedule`) REFERENCES `schedules` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `point_employee`
--
ALTER TABLE `point_employee`
  ADD CONSTRAINT `point_employee_ibfk_1` FOREIGN KEY (`nik_employee`) REFERENCES `employee` (`nik`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `point_requirements`
--
ALTER TABLE `point_requirements`
  ADD CONSTRAINT `point_requirements_ibfk_1` FOREIGN KEY (`id_schedule`) REFERENCES `schedules` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
